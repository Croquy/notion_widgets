<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Syst√®me Officiel de R√©gulation Adolescente‚Ñ¢</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f4f4f4;
  }

  .container {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
  }

  .button-group {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }

  button {
    flex: 1 1 200px;
    padding: 14px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background-color: #333;
    color: white;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  button:hover {
    background-color: #555;
  }

  #result {
    margin-top: 25px;
    padding: 15px;
    border-radius: 8px;
    white-space: pre-line;
    line-height: 1.5;
  }

  .low { background-color: #e6f7e6; color: #0a7a0a; font-weight: bold; }
  .medium { background-color: #fff4e6; color: #b36b00; font-weight: bold; }
  .high { background-color: #ffe6e6; color: #b30000; font-weight: bold; }
  .critical { background-color: #3b0000; color: white; font-weight: bold; }

  /* Mobile optimization */
  @media (max-width: 600px) {
    body { padding: 10px; }
    .container { padding: 15px; }
    button { font-size: 15px; padding: 12px; }
    #result { font-size: 15px; }
  }


/* ============================= */
/* THEATRALITE - SANCTION ROYALE */
/* ============================= */

@keyframes royalAppear {
  0% {
    opacity: 0;
    transform: scale(0.9);
    filter: blur(4px);
  }
  60% {
    transform: scale(1.03);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
}

@keyframes royalShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-4px); }
}

@keyframes darkPulse {
  0% { box-shadow: 0 0 10px rgba(139, 0, 0, 0.5); }
  50% { box-shadow: 0 0 35px rgba(139, 0, 0, 0.9); }
  100% { box-shadow: 0 0 10px rgba(139, 0, 0, 0.5); }
}

.intolerable {
  background: linear-gradient(135deg, #3b0000, #1a0000);
  border: 2px solid #8b0000;
  color: #ffeaea;
  animation:
    royalAppear 0.5s ease-out forwards,
    royalShake 0.4s ease-in-out 0.5s,
    darkPulse 2s infinite 1s;
}

/* Effet decret qui se revele */
@keyframes decreeReveal {
  from { width: 0; }
  to { width: 100%; }
}

.decree-text {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid #ffeaea;
  animation: decreeReveal 1.5s steps(40, end) forwards;
}

</style>
</head>
<body>

<div class="container">

<h2>‚öñÔ∏è Syst√®me Officiel de R√©gulation Adolescente‚Ñ¢</h2>

<div class="button-group">
  <button onclick="handleCase('repetition')">Demande r√©p√©titive</button>
  <button onclick="handleCase('impulsif')">Demande sans r√©fl√©chir</button>
  <button onclick="handleCase('insolence')">Insolence</button>
  <button onclick="handleCase('mensonge')">Mensonge</button>
  <button onclick="handleCase('refus')">Refus d‚Äôob√©ir</button>
</div>

<div id="result"></div>

</div>

<script>

const cases = {
  repetition: { gravity: "üü¢ Gravit√© : Faible", class: "low", level: 1 },
  impulsif: { gravity: "üü¢ Gravit√© : Faible", class: "low", level: 1 },
  insolence: { gravity: "üü† Gravit√© : Moyenne", class: "medium", level: 2 },
  mensonge: { gravity: "üî¥ Gravit√© : √âlev√©e", class: "high", level: 3 },
  refus: { gravity: "‚õî Gravit√© : Intol√©rable", class: "critical", level: 4 }
};

const reformulations = {
  repetition: [
    "Demande d√©j√† trait√©e r√©introduite sans √©l√©ment nouveau.",
    "Strat√©gie d‚Äôusure psychologique d√©tect√©e.",
    "Requ√™te r√©currente sans modification du contexte.",
    "Tentative de r√©p√©tition persuasive identifi√©e."
  ],
  impulsif: [
    "Demande formul√©e sans analyse pr√©alable des cons√©quences.",
    "Proposition spontan√©e sans √©tude de faisabilit√©.",
    "Expression d‚Äôun besoin imm√©diat non structur√©.",
    "Initiative pr√©cipit√©e sans projection r√©aliste."
  ],
  insolence: [
    "Expression verbale √† tonalit√© inappropri√©e d√©tect√©e.",
    "Remise en question du cadre parental identifi√©e.",
    "Usage d‚Äôun registre discursif non conforme au cadre familial.",
    "D√©bordement √©motionnel orient√© vers contestation."
  ],
  mensonge: [
    "Alt√©ration volontaire de la v√©rit√© constat√©e.",
    "Narratif divergent de la r√©alit√© observ√©e.",
    "Construction factuelle inexacte identifi√©e.",
    "Dissimulation partielle d‚Äôinformations."
  ],
  refus: [
    "Non-ex√©cution d‚Äôune directive parentale valid√©e.",
    "Blocage op√©rationnel dans l‚Äôapplication des consignes.",
    "Refus explicite d‚Äôadh√©sion aux r√®gles √©tablies.",
    "Opposition active au cadre √©ducatif."
  ]
};

const lowPunishments = [
  "Pr√©parer un caf√© ou un th√© au parent r√©f√©rent.",
  "Offrir un massage de 5 minutes.",
  "Faire un c√¢lin officiel et sinc√®re.",
  "R√©aliser un dessin personnalis√©.",
  "Aider spontan√©ment sur une petite t√¢che domestique."
];

const characters = ["un chevalier", "une princesse", "un astronaute", "un ninja", "un pirate"];
const victims = ["son chat", "une licorne", "un roi", "un dragon", "une f√©e"];

function generateThemedLetter() {
  const char = randomItem(characters);
  const victim = randomItem(victims);
  return `R√©diger une lettre d‚Äôexcuse dans laquelle ${char} a √©t√© insolent envers ${victim}, avec morale finale sur le respect.`;
}

const highPunishments = [
  "Privation d‚Äô√©cran pendant 48h.",
  "Nettoyage complet de la chambre sous supervision.",
  "Rangement complet de la salle de jeux.",
  "T√¢ches m√©nag√®res suppl√©mentaires."
];

const medievalPunishments = {
  1: [
    "Nettoyage int√©gral des √©curies royales et ramassage officiel du crottin.",
    "Nuit symbolique dans l‚Äô√©curie avec couverture r√™che et paille r√©glementaire.",
    "Consommation d‚Äôune soupe d‚Äôorties pr√©par√©e selon la tradition ancestrale.",
    "Service comme porteur d‚Äôeau au puits du village durant une demi-journ√©e."
  ],
  2: [
    "Corv√©e prolong√©e dans les cuisines du ch√¢teau sous supervision du ma√Ætre queux.",
    "R√©daction publique d‚Äôun serment d‚Äôhonneur devant la cour familiale.",
    "Veill√©e obligatoire dans la tour de garde pour m√©ditation sur le respect.",
    "Balayage complet de la grande salle du ch√¢teau √† l‚Äôaube."
  ],
  3: [
    "Enfermement symbolique dans les oubliettes du royaume pour r√©flexion intensive.",
    "Transformation imaginaire en grenouille pour une dur√©e ind√©termin√©e, coassement inclus.",
    "Exil temporaire au sommet de la Tour des Devoirs Infinis avec r√©citation du code parental.",
    "Service forc√© comme √©cuyer du parent souverain avec r√©v√©rence protocolaire."
  ],
  4: [
    "Bannissement dramatique du royaume familial jusqu‚Äô√† preuve de loyaut√© retrouv√©e.",
    "Condamnation √† la Grande Qu√™te du Rangement √âternel jusqu‚Äô√† restauration compl√®te de l‚Äôhonneur.",
    "M√©tamorphose l√©gendaire en cr√©ature des marais pendant quarante jours symboliques.",
    "Jugement solennel devant le Conseil Supr√™me des Parents avec sentence irr√©vocable."
  ]
};

function randomItem(array) {
  return array[Math.floor(Math.random() * array.length)];
}

function handleCase(type) {
  const caseInfo = cases[type];
  const reformulation = randomItem(reformulations[type]);

  let punishment;

  if (caseInfo.level === 1) {
    punishment = randomItem(lowPunishments);
  }
  else if (caseInfo.level === 2) {
    punishment = generateThemedLetter();
  }
  else {
    punishment = randomItem(highPunishments);
  }

  const medieval = randomItem(medievalPunishments[caseInfo.level]);

  const result = `
${caseInfo.gravity}

üìå Analyse :
${reformulation}

üõë Sanction :
${punishment}

üè∞ Sentence m√©di√©vale correspondante :
${medieval}
  `;

  const resultDiv = document.getElementById("result");
  resultDiv.className = caseInfo.class;
  resultDiv.innerText = result;
}

</script>

</body>
</html>
